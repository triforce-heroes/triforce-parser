import{BufferBuilder as r}from"@triforce-heroes/triforce-core";import{BuilderError as i}from"./errors/BuilderError.js";export class Builder{build(i,e=0){let s=new r(e);return this.buildUsing(this.builderMain,s,i),s.build()}add(r,i){this.builderMain??=r,this.builders.set(r,i)}buildUsing(r,e,s){return this.builders.get(r)(s,{builder:e,build:(r,i)=>this.buildUsing(r,e,i),error:r=>{throw new i(r)}})}constructor(){this.builders=new Map}}